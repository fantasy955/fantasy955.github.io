[(98条消息) 服务器端Session、客户端Session和Cookie的区别_曾梦想仗剑走天涯PJ的博客-CSDN博客_服务器session](https://blog.csdn.net/java_faep/article/details/78082802)

# localStorage和sessionStorage

localStorage和sessionStorage一样都是用来存储客户端临时信息的对象。

他们均只能存储**字符串类型**的对象（虽然规范中可以存储其他原生类型的对象，但是**目前为止没有浏览器对其进行实现**）。

**localStorage**生命周期是**永久**，这意味着除非用户显示在浏览器提供的UI上清除localStorage信息，否则这些信息将永远存在。

**sessionStorage**生命周期为**当前窗口或标签页**，一旦窗口或标签页被永久关闭了，那么所有通过sessionStorage存储的数据也就被清空了。

不同浏览器无法共享localStorage或sessionStorage中的信息。相同浏览器的**不同页面**间可以共享相同的 localStorage（**页面属于相同域名和端口**），但是不同页面或标签页间无法共享sessionStorage的信息。这里需要注意的是，页面及标 签页仅指顶级窗口，如果一个标签页包含多个iframe标签且他们属于同源页面，那么他们之间是可以共享sessionStorage的。

sessionStorage的生命周期是在仅在当前会话下有效。sessionStorage引入了一个“浏览器窗口”的概念，sessionStorage是在同源的窗口中始终存在的数据。只要这个浏览器窗口没有关闭，即使刷新页面或者进入同源另一个页面，数据依然存在。但是sessionStorage在关闭了浏览器窗口后就会被销毁。同时独立的打开同一个窗口同一个页面，sessionStorage也是不一样的。

## localStorage

### 新增

```javascript
localStorage.saveItem(key, value);
```

使用

```javascript
JSON.stringify(object)
```

将对象转换成字符串；

### 读取

```
localStorage.getItem(key, value);
```

使用

```
JSON.parse(object)
```

将字符串转换成对象；

### 删除

```javascript
// delete all
localStorage.clear();

localStorage.removeItem(key);
```

## sessionStorage

与服务器的session对话无关。概念相似。

api名称与localStorage一致。



# HTTP Cookie

[HTTP Cookie - HTTP | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies)

HTTP Cookie（也叫 Web Cookie 或浏览器 Cookie）是服务器发送到用户浏览器并保存在本地的一小块数据。浏览器会存储 cookie 并在下次向同一服务器再发起请求时携带并发送到服务器上。通常，它用于告知服务端两个请求是否来自同一浏览器——如保持用户的登录状态。Cookie 使基于[无状态](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Overview#http_是无状态，有会话的)的 HTTP 协议记录稳定的状态信息成为了可能。

## [创建 Cookie](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies#创建_cookie)

服务器收到 HTTP 请求后，服务器可以在响应标头里面添加一个或多个 [`Set-Cookie`](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Set-Cookie) 选项。浏览器收到响应后通常会保存下 Cookie，并将其放在 HTTP [`Cookie`](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cookie) 标头内，向同一服务器发出请求时一起发送。你可以指定一个过期日期或者时间段之后，不能发送 cookie。你也可以对指定的域和路径设置额外的限制，以限制 cookie 发送的位置。关于下面提到的头部属性的详细信息，请参考 [`Set-Cookie`](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Set-Cookie) 文章。

## Session(会话)

### 1)什么是Session?

**服务器**为了保存用户状态而创建的一个特殊的对象。

```bash
当浏览器第一次访问服务器时，服务器创建一个session对象(该对象有一个唯一的id,一般称之为sessionId),服务器会将sessionId
以cookie的方式发送给浏览器。
当浏览器再次访问服务器时，会将sessionId发送过来，服务器依据
sessionId就可以找到对应的session对象。
```