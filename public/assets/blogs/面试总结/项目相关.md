## 视频

- hls是传输协议，并不是视频本身的格式。[「完全理解」video 标签到底能播放什么 - 掘金 (juejin.cn)](https://juejin.cn/post/7018373086072766472
  使用HLS播放视频需要提供一个分片索引文件，索引文件中记录了视频片段的`ts`文件地址，浏览器会请求这些片段。

  如果你尝试在浏览器中通过`<video>`标签播放一个远程服务器上的大视频文件，浏览器**会尝试下载整个文件**并播放它1。这可能会导致视频播放缓慢或者无法正常播放。
  为了解决这个问题，你可以**使用HTTP部分请求来实现边下载边播放的效果**。你也可以考虑使用**流媒体技术**来实现更好的视频播放体验。

  流媒体技术是一种将媒体数据压缩后，经过网络分段发送数据，在网络上即时传输影音以供观赏的技术与过程。它使得数据包得以像流水一样发送，让用户可以边下载边观看、收听，而不需要等到整个多媒体文件下载完成。

  要使用流媒体技术，你需要搭建一个流媒体服务器。例如，你可以使用NodeMediaServer来搭建一个支持RTMP、RTSP、HLS协议的流媒体服务器。然后，在客户端使用相应的播放器来播放流媒体内容。

  **边下边播**的核心是创建一个`mediaSource `对象，在这个对象的`sourceopen`事件中进行HTTP请求：

  ```js
  const video = document.getElementById('video');
  const mediaSource = new MediaSource();
  video.src = URL.createObjectURL(mediaSource);
  
  mediaSource.addEventListener('sourceopen', async () => {
      const sourceBuffer = mediaSource.addSourceBuffer('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');
  
      // 获取M3U8文件
      const m3u8Response = await fetch('<URL>');
      const m3u8Text = await m3u8Response.text();
  
      // 解析M3U8文件中的TS切片地址
      const tsUrls = m3u8Text.match(/http.*?\.ts/g);
  
      // 按顺序下载并播放TS切片
      for (const tsUrl of tsUrls) {
          const tsResponse = await fetch(tsUrl);
          const tsArrayBuffer = await tsResponse.arrayBuffer();
          sourceBuffer.appendBuffer(tsArrayBuffer);
          await new Promise(resolve => sourceBuffer.addEventListener('updateend', resolve));
      }
  
      mediaSource.endOfStream();
  });
  ```


---

## 能量流图

antv g6和antv x6是两种不同的**前端图可视化引擎**。它们之间的主要区别在于，x6是基于HTML的，而g6是基于Canvas的。这意味着，在较大规模的图上，x6性能不佳，而g6可以保持流畅交互1。所以，如果你有大于200个节点的场景，优选g61。

x6是基于svg的，而g6是基于canvas的。这意味着，**svg支持事件处理器**，而canvas不支持事件处理器。使用canvas实现事件操作较麻烦一些1。

[(99+ 封私信 / 9 条消息) 前端图可视化引擎antv的g6和x6区别是什么，如何选择？ - 知乎 (zhihu.com)](https://www.zhihu.com/question/435855401)