# 删除文件/文件夹

```
git rm / git rm -rf
```

# 创建新分支

- 创建本地分支

```
git branch // 查看分支
git branch -r //查看远程分支
```

```
git checkout branch_name // 切换分支
```

`git branch`带参数即分支名称的话，会创建该分支；

`git checkout`带参数`-b new_branch_name`同样会创建新分支；

- 将本地新分支推送到远程

```
git push origin [branch name]
```

- 删除本地分支

```
git branch -d [branch name]
```

- 删除远程分支

```
git push origin --delete :[branch name]
```

- 重命名远程分支

```
git push --delete origin branchName  // 1、删除远程分支：
git branch -m oldName newName  // 2、重命名本地分支：
git push origin branchName(newName)  // 3、推送本地分支：
```



# 合并远程分支到本地

1、拉取远程主分支，会临时生成一个分支FETCH_HEAD

```
git fetch origin main
```

2、比较当前分支与最新代码的区别

```
git diff FETCH_HEAD
```

3、合并

```
git merge FETCH_HEAD
```

# 最新代码会覆盖本地代码，但本地代码不必修改

````
git stash save [path] //缓存本地代码，merge后恢复
````

```
git stash list  //查看stash的id
```

```
git stash apply stash@{id} //恢复 
```

```
git stash clear //清除缓存
```



# 使`.gitignore`生效

```
git rm -r --cached . // 删除本地缓存
git add . // 添加要提交的文件
```

初次提交直接声明gitignore并提交就可以；

非初次提交，改动的gitignore要进行上述配置，因为文件已经纳入版本管理，需要清空缓存，重新添加要提交的文件



# git rm 恢复

[git恢复误删除文件 - 走看看 (zoukankan.com)](http://t.zoukankan.com/itdev-p-8455070.html)

git restore [deleted file/dir]



# git rebase

- [假设您从master分支拉出了一个feature分支，并且在feature分支上提交了几次。这时候，有人把他的开发合并到了master分支上，导致master分支比您拉出时多了几个提交。如果您想要把您的修改基于master分支的最新提交，您可以在feature分支上执行git rebase master命令。这样，git会把您的提交放到master分支的最后面，就好像您是从最新的master分支重新拉出来这个分支一样](https://blog.csdn.net/weidajiangjiang/article/details/107531166)[1](https://blog.csdn.net/weidajiangjiang/article/details/107531166)[2](https://blog.csdn.net/weixin_42310154/article/details/119004977)。
- [假设您在本地仓库中提交了多次，在把本地提交推送到公共仓库之前，为了让提交记录更简洁明了，您希望把几个小的修改合并为一个完整的提交。您可以使用git rebase -i命令来交互式地选择哪些提交要保留，哪些要合并或删除。例如，如果您想要把最后三个提交合并为一个提交，您可以执行git rebase -i HEAD~3命令，并在弹出的编辑器中选择squash或fixup选项](https://blog.csdn.net/weidajiangjiang/article/details/107531166)[1](https://blog.csdn.net/weidajiangjiang/article/details/107531166)。
- [假设您有三个分支：master、develop和feature。其中develop是从master拉出来的，并且有一些自己独有的修改。feature是从develop拉出来的，并且也有一些自己独有的修改。现在，您想要把feature上的修改直接应用到master上，而不影响develop上的修改。这时候，您可以使用git rebase --onto master develop feature命令来指定新的基点和旧的基点。这样，git会把feature上除了develop以外的修改应用到master上](https://juejin.cn/post/6969101234338791432)[3](https://juejin.cn/post/6969101234338791432)。
